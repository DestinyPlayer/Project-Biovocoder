@page "/"
@inject HttpClient Http
@using Microsoft.AspNetCore.Components.WebAssembly.Rendering

<PageTitle>Main Page</PageTitle>
<div>
	<h1>Hello, world!</h1>

	<p>Welcome to your new app.</p>

	<p>Weh</p>
</div>
<div>
	<button @onclick="AudioConcater.ConcatAudio">
		Concat Audio
	</button>
</div>
<div>
	@if (audioTest == null)
	{
		<p>WAITING FOR AUDIO</p>
	}
	else
	{
		<p>AUDIO RECEIVED</p>
		<audio controls>
			<source src=@audioTest type="audio/wav" />
		</audio>
	}
</div>
<div>
	<p>Testing</p>
	<audio controls>
		<source src="sounds/testing/switch.wav" type="audio/wav" />
	</audio>
</div>

@code {
	public WaveFormatConversionStream? audioTest;
	protected override async Task OnInitializedAsync()
	{
		//audioTest = (WaveFormatConversionStream) await Http.GetStreamAsync("sounds/testing/switch.wav");
	}

	public void ConcatAudio()
	{
		//audioTest = new WaveFileReader("sounds/testing/switch.wav");
	}
}